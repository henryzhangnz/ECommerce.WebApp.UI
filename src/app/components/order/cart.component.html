<div class="container mt-4">
  <h2>Shopping Cart</h2>

  <div *ngIf="order?.items?.length; else emptyCart">
    <table class="table table-bordered text-center">
      <thead class="thead-light">
        <tr>
          <th>Product</th>
          <th>Unit Price</th>
          <th>Quantity</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of order?.items">
          <td>{{ item.productName }}</td>
          <td>${{ item.unitPrice.toFixed(2) }}</td>
          <td>
            <button
              class="btn btn-sm btn-outline-secondary"
              (click)="updateQuantity(item, -1)"
            >
              -
            </button>
            <span class="mx-2">{{ item.quantity }}</span>
            <button
              class="btn btn-sm btn-outline-secondary"
              (click)="updateQuantity(item, 1)"
            >
              +
            </button>
          </td>
          <td>${{ (item.unitPrice * item.quantity).toFixed(2) }}</td>
        </tr>
      </tbody>
    </table>

    <div class="d-flex justify-content-between align-items-center">
      <h4>Total Items: {{ order?.totalItems }}</h4>
      <h4>Total Price: ${{ order?.totalOrderPrice?.toFixed(2) }}</h4>
    </div>

    <button class="btn btn-primary btn-lg mt-3 w-100" (click)="updateOrder()">
      Update Order
    </button>
  </div>

  <ng-template #emptyCart>
    <p class="text-center text-muted">Your cart is empty.</p>
  </ng-template>
</div>
