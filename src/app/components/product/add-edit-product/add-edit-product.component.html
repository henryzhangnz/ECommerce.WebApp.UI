<h3>{{ isEditing ? "Edit" : "Add" }} Product</h3>
<div class="mt-5">
  <form
    [formGroup]="productForm"
    (ngSubmit)="saveProduct()"
    class="needs-validation"
  >
    <div class="col-5">
      <label for="name" class="form-label">Name:</label>
      <input
        type="text"
        class="form-control"
        id="name"
        formControlName="name"
        [class.is-invalid]="isInputValid('name')"
        required
      />
      <div class="text-danger" *ngIf="isInputValid('name')">
        Name is required.
      </div>
    </div>

    <div class="col-5">
      <label for="price" class="form-label">Price (dollars):</label>
      <input
        type="number"
        class="form-control"
        id="price"
        formControlName="price"
        required
        min="0"
        [class.is-invalid]="isInputValid('price')"
      />
      <div class="text-danger" *ngIf="isInputValid('price')">
        Price must be greater than 0.
      </div>
    </div>

    <div class="col-5">
      <label for="description" class="form-label">Description:</label>
      <textarea
        type="number"
        class="form-control"
        id="description"
        formControlName="description"
        rows="3"
        [class.is-invalid]="isInputValid('description')"
      ></textarea>
      <div class="text-danger" *ngIf="isInputValid('description')">
        Description must be more than 100 characters.
      </div>
    </div>

    <div class="col-5">
      <label for="amount" class="form-label">Amount:</label>
      <input
        type="number"
        class="form-control"
        id="amount"
        formControlName="amount"
        required
        min="0"
        [class.is-invalid]="isInputValid('amount')"
      />
      <div class="text-danger" *ngIf="isInputValid('amount')">
        Amount must be greater than 0.
      </div>
    </div>

    <button
      type="submit"
      class="btn btn-primary me-2 mt-2"
      [disabled]="productForm.invalid"
    >
      {{ isEditing ? "Update" : "Add" }} Product
    </button>
    <button class="btn btn-primary mt-2" (click)="cancel()">Cancel</button>
  </form>
</div>
